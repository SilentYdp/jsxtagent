# æ±Ÿè‹ä¿¡æ‰˜æ™ºèƒ½ä½“å¹³å° - Reactå¼€å‘è®¡åˆ’

## é¡¹ç›®æ¦‚è¿°

åŸºäºdocs/agentv2.htmlåŸå‹ï¼Œå¼€å‘ç°ä»£åŒ–çš„æ±Ÿè‹ä¿¡æ‰˜æ™ºèƒ½ä½“ç®¡æ§ä¸æ´å¯Ÿå¹³å°ã€‚

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

1. **é¦–é¡µé©¾é©¶èˆ±** - ç»è¥KPIæ€»è§ˆã€å®æ—¶ç›‘æ§
2. **æ™ºèƒ½ä½“ç›®å½•** - æ™ºèƒ½ä½“æµè§ˆã€æœç´¢ã€ç®¡ç†
3. **å¯¹è¯å†å²** - å†å²è®°å½•æŸ¥è¯¢ã€è¯„åˆ†ç®¡ç†
4. **åé¦ˆä¸­å¿ƒ** - ä½åˆ†åé¦ˆå¤„ç†ã€å·¥å•ç®¡ç†
5. **æ•°æ®åˆ†æ** - ä½¿ç”¨æŒ‡æ ‡ã€è´¨é‡åˆ†æ
6. **ç³»ç»Ÿè®¾ç½®** - åˆè§„é…ç½®ã€å®‰å…¨ç®¡ç†

## æŠ€æœ¯æ¶æ„é€‰å‹

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Next.js 14 (App Router)
- **æ ·å¼æ–¹æ¡ˆ**: Tailwind CSS + HeadlessUI
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æ•°æ®è·å–**: TanStack Query (React Query)
- **å›¾è¡¨ç»„ä»¶**: Chart.js + react-chartjs-2
- **UIç»„ä»¶**: è‡ªå®šä¹‰ç»„ä»¶åº“ + HeadlessUI
- **å›¾æ ‡**: Heroicons

### åç«¯æŠ€æœ¯æ ˆ
- **æ•°æ®åº“**: MongoDB (æœ¬åœ°éƒ¨ç½²)
- **API**: Next.js API Routes
- **æ•°æ®éªŒè¯**: Zod
- **ORM**: Mongoose

## é¡¹ç›®ç›®å½•ç»“æ„

```
jsitcagent/
â”œâ”€â”€ src/                        # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (dashboard)/        # ä»ªè¡¨ç›˜è·¯ç”±ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx        # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ agents/         # æ™ºèƒ½ä½“ç›®å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ history/        # å¯¹è¯å†å²
â”‚   â”‚   â”‚   â”œâ”€â”€ feedback/       # åé¦ˆä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics/      # æ•°æ®åˆ†æ
â”‚   â”‚   â”‚   â””â”€â”€ settings/       # ç³»ç»Ÿè®¾ç½®
â”‚   â”‚   â”œâ”€â”€ api/                # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ globals.css         # å…¨å±€æ ·å¼
â”‚   â”‚   â””â”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ components/             # å…±äº«ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/                 # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ charts/             # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/             # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ features/           # åŠŸèƒ½ç»„ä»¶
â”‚   â”œâ”€â”€ lib/                    # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ utils.ts            # é€šç”¨å·¥å…·
â”‚   â”‚   â”œâ”€â”€ mongodb.ts          # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â””â”€â”€ validations.ts      # æ•°æ®éªŒè¯
â”‚   â”œâ”€â”€ stores/                 # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types/                  # TypeScriptç±»å‹å®šä¹‰
â”‚   â””â”€â”€ styles/                 # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ public/                     # é™æ€èµ„æº
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ package.json                # é¡¹ç›®é…ç½®
â”œâ”€â”€ tailwind.config.js          # Tailwindé…ç½®
â”œâ”€â”€ next.config.js              # Next.jsé…ç½®
â””â”€â”€ tsconfig.json              # TypeScripté…ç½®
```

## å¼€å‘é˜¶æ®µè§„åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šé¡¹ç›®åŸºç¡€æ­å»º (å½“å‰é˜¶æ®µ)
- [x] åˆ†æåŸå‹å¹¶åˆ¶å®šå¼€å‘è®¡åˆ’
- [ ] åˆå§‹åŒ–Next.jsé¡¹ç›®å’Œä¾èµ–
- [ ] é…ç½®TypeScriptã€Tailwind CSSã€ESLint
- [ ] åˆ›å»ºåŸºç¡€ç»„ä»¶åº“å’Œå·¥å…·å‡½æ•°
- [ ] æ­å»ºä¸»å¸ƒå±€å’Œå¯¼èˆªç»“æ„

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒé¡µé¢å¼€å‘
- [ ] å®ç°é¦–é¡µé©¾é©¶èˆ±
  - [ ] KPIç»Ÿè®¡å¡ç‰‡
  - [ ] Topæ™ºèƒ½ä½“åˆ—è¡¨
  - [ ] å®æ—¶åŠ¨æ€Feed
  - [ ] ç³»ç»Ÿå¥åº·ç›‘æ§
- [ ] å®ç°æ™ºèƒ½ä½“ç›®å½•é¡µé¢
  - [ ] æœç´¢å’Œç­›é€‰åŠŸèƒ½
  - [ ] æ™ºèƒ½ä½“å¡ç‰‡å±•ç¤º
  - [ ] åˆ†é¡µå’Œæ’åº

### ç¬¬ä¸‰é˜¶æ®µï¼šè¯¦æƒ…å’Œäº¤äº’åŠŸèƒ½
- [ ] æ™ºèƒ½ä½“è¯¦æƒ…å¼¹çª—
  - [ ] æ¦‚è§ˆã€å¯¹è¯ã€è¯„åˆ†ç­‰æ ‡ç­¾é¡µ
  - [ ] è¯„åˆ†äº¤äº’åŠŸèƒ½
- [ ] å¯¹è¯å†å²é¡µé¢
  - [ ] å†å²è®°å½•æŸ¥è¯¢
  - [ ] è¯„åˆ†ç®¡ç†
  - [ ] å¯¼å‡ºåŠŸèƒ½

### ç¬¬å››é˜¶æ®µï¼šåˆ†æå’Œç®¡ç†åŠŸèƒ½
- [ ] åé¦ˆä¸­å¿ƒé¡µé¢
- [ ] æ•°æ®åˆ†æé¡µé¢
- [ ] ç³»ç»Ÿè®¾ç½®é¡µé¢
- [ ] å›¾è¡¨å¯è§†åŒ–

### ç¬¬äº”é˜¶æ®µï¼šä¼˜åŒ–å’Œå®Œå–„
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å“åº”å¼é€‚é…
- [ ] é”™è¯¯å¤„ç†
- [ ] æ•°æ®æŒä¹…åŒ–
- [ ] æµ‹è¯•å’Œæ–‡æ¡£

## æ•°æ®æ¨¡å‹è®¾è®¡

### Agent (æ™ºèƒ½ä½“)
```typescript
interface Agent {
  id: string
  name: string
  dept: string
  owner: string
  status: 'published' | 'beta' | 'draft'
  model: string
  rating: number
  usage: number
  cost: number
  tags: string[]
  description: string
  versions: Version[]
  config: AgentConfig
  dialogs: Dialog[]
}
```

### Dialog (å¯¹è¯è®°å½•)
```typescript
interface Dialog {
  id: string
  agentId: string
  question: string
  answer: string
  timestamp: string
  rating?: number
  feedback?: string
}
```

### Analytics (åˆ†ææ•°æ®)
```typescript
interface Analytics {
  activeAgents: number
  weeklySessions: number
  averageRating: number
  resolutionRate: number
  costTrend: number[]
  usageTrend: number[]
}
```

## å¼€å‘æ³¨æ„äº‹é¡¹

1. **ä»£ç è§„èŒƒ**
   - æ‰€æœ‰ç»„ä»¶ä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼
   - ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶å’ŒHooks
   - éµå¾ªå•ä¸€èŒè´£åŸåˆ™
   - ä»£ç æ³¨é‡Šä½¿ç”¨ä¸­æ–‡

2. **æ€§èƒ½ä¼˜åŒ–**
   - ä½¿ç”¨React.memoé˜²æ­¢ä¸å¿…è¦é‡æ¸²æŸ“
   - å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
   - å›¾ç‰‡æ‡’åŠ è½½
   - ä»£ç åˆ†å‰²å’ŒåŠ¨æ€å¯¼å…¥

3. **ç”¨æˆ·ä½“éªŒ**
   - åŠ è½½çŠ¶æ€å’Œéª¨æ¶å±
   - é”™è¯¯è¾¹ç•Œå’Œå‹å¥½é”™è¯¯æç¤º
   - å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
   - æ— éšœç¢æ”¯æŒ

4. **æ•°æ®ç®¡ç†**
   - UIä¸æ•°æ®å®Œå…¨è§£è€¦
   - ä½¿ç”¨TanStack Queryç¼“å­˜ç­–ç•¥
   - ä¹è§‚æ›´æ–°æå‡ä½“éªŒ
   - é”™è¯¯é‡è¯•æœºåˆ¶

## å½“å‰å¼€å‘çŠ¶æ€

- âœ… é¡¹ç›®åˆ†æå’Œè®¡åˆ’åˆ¶å®š
- ğŸ”„ å‡†å¤‡å¼€å§‹ç¬¬ä¸€é˜¶æ®µå¼€å‘
- â³ ç­‰å¾…é¡¹ç›®åˆå§‹åŒ–

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. åˆå§‹åŒ–Next.jsé¡¹ç›®
2. å®‰è£…å’Œé…ç½®æ‰€éœ€ä¾èµ–
3. åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„
4. å®ç°ä¸»å¸ƒå±€ç»„ä»¶

---

*æœ€åæ›´æ–°: 2025-01-27*
